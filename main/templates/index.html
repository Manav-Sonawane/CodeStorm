<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodeStorm</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "red-primary": "#e10600",
              "dark-bg": "#181818",
              "darker-bg": "#111",
            },
            animation: {
              "fade-in-up": "fadeInUp 0.8s ease-out",
              float: "float 3s ease-in-out infinite",
              glow: "glow 2s ease-in-out infinite alternate",
              "bounce-slow": "bounce 3s infinite",
              typewriter: "typewriter 3s steps(40, end) 1s both",
              "typewriter-tagline": "typewriter 2s steps(30, end) 4.5s both",
              blink: "blink 1s infinite",
            },
            keyframes: {
              fadeInUp: {
                "0%": { opacity: "0", transform: "translateY(50px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              float: {
                "0%, 100%": { transform: "translateY(0px)" },
                "50%": { transform: "translateY(-20px)" },
              },
              glow: {
                "0%": {
                  textShadow: "0 4px 24px rgba(225, 6, 0, 0.8), 0 1px 0 #000",
                },
                "100%": { textShadow: "0 0px 40px #fff, 0 1px 0 #e10600" },
              },
              typewriter: {
                "0%": { width: "0" },
                "100%": { width: "100%" },
              },
              blink: {
                "0%, 50%": { borderColor: "transparent" },
                "51%, 100%": { borderColor: "#e10600" },
              },
            },
          },
        },
      };
    </script>

    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Your Custom CSS -->
    <link rel="stylesheet" href="../static/styles.css" />

    <!-- Custom Typewriter Styles -->
    <style>
      @keyframes typewriter {
        0% {
          width: 0;
        }
        100% {
          width: 100%;
        }
      }

      @keyframes typewriter-tagline {
        0% {
          width: 0;
          opacity: 1;
        }
        100% {
          width: 100%;
          opacity: 1;
        }
      }

      @keyframes blink {
        0%,
        50% {
          border-color: transparent;
        }
        51%,
        100% {
          border-color: #e10600;
        }
      }

      .typewriter-container {
        display: inline-block;
        position: relative;
      }

      .typewriter-text {
        overflow: hidden;
        white-space: nowrap;
        border-right: 4px solid #e10600;
        animation: typewriter 4s steps(9, end) 1s both, blink 1s infinite 1s;
      }

      .typewriter-tagline {
        overflow: hidden;
        white-space: nowrap;
        border-right: 4px solid #e10600;
        opacity: 0;
        animation: typewriter-tagline 3s steps(21, end) 0s both,
          blink 1s infinite 0s; /* <-- delay changed to 0s */
      }

      /* Remove cursor after animation completes */
      .typewriter-text.animation-complete,
      .typewriter-tagline.animation-complete {
        border-right: none;
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-darker-bg to-gray-800 text-white min-h-screen"
  >
    <!-- Floating Navbar -->
    <nav
      class="fixed top-5 left-1/2 transform -translate-x-1/2 w-11/12 max-w-6xl bg-black/30 backdrop-blur-lg rounded-full border border-red-primary/20 z-40 animate-fade-in-up"
    >
      <div class="flex items-center justify-between px-4 py-2 w-full">
        <!-- Reduced px-8 py-4 to px-4 py-2 -->
        <!-- Logo at extreme left -->
        <a href="#home" class="flex items-center">
          <img
            src="../static/logo.png"
            alt="CodeStorm Logo"
            class="w-12 h-12 object-contain filter drop-shadow-lg"
          />
        </a>

        <!-- Navigation items at extreme right -->
        <div class="flex items-center">
          <ul class="hidden lg:flex items-center space-x-4">
            <li>
              <a
                href="#home"
                class="text-white text-lg font-bold hover:text-red-primary hover:bg-red-primary/20 px-2 py-1 rounded-lg transition-all duration-300"
                >Home</a
              >
            </li>
            <li>
              <a
                href="#about"
                class="text-white text-lg font-bold hover:text-red-primary hover:bg-red-primary/20 px-2 py-1 rounded-lg transition-all duration-300"
                >About</a
              >
            </li>
            <li>
              <a
                href="/codeissance"
                class="text-white text-lg font-bold hover:text-red-primary hover:bg-red-primary/20 px-2 py-1 rounded-lg transition-all duration-300"
                >Codeissance</a
              >
            </li>
            <li>
              <a
                href="#past-events"
                class="text-white text-lg font-bold hover:text-red-primary hover:bg-red-primary/20 px-2 py-1 rounded-lg transition-all duration-300"
                >Past Events</a
              >
            </li>
            <li>
              <a
                href="#follow-us"
                class="text-white text-lg font-bold hover:text-red-primary hover:bg-red-primary/20 px-2 py-1 rounded-lg transition-all duration-300"
                >Follow Us</a
              >
            </li>
          </ul>

          <!-- Mobile menu button -->
          <button
            id="mobile-menu-button"
            class="lg:hidden text-white hover:text-red-primary transition-colors duration-300 ml-2"
          >
            <i class="fas fa-bars text-2xl"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section
      id="home"
      class="relative flex flex-col items-center justify-center text-center h-screen bg-gradient-to-br from-black via-gray-900 to-red-primary/20 overflow-hidden"
    >
      <canvas
        id="background-canvas"
        class="absolute inset-0 opacity-60"
      ></canvas>

      <div class="relative z-10 space-y-8 animate-fade-in-up">
        <!-- Logo Container -->
        <div class="flex flex-col items-center space-y-8">
          <!-- Logo -->
          <img
            src="../static/logo.png"
            alt="CodeStorm Logo"
            class="w-40 h-40 md:w-48 md:h-48 object-contain animate-float filter drop-shadow-2xl"
          />

          <!-- Regular Title (no typewriter effect) -->
          <h1 class="text-6xl md:text-8xl font-black tracking-wider">
            CodeStorm
          </h1>

          <!-- Typewriter Tagline remains if you want -->
          <div class="typewriter-container">
            <p
              class="text-2xl md:text-4xl text-red-primary font-bold tracking-wide typewriter-tagline"
            >
              #Scripting the Storm!
            </p>
          </div>
        </div>
        <a
          href="/codeissance"
          class="inline-block bg-gradient-to-r from-red-primary to-white text-black font-bold text-xl px-12 py-4 rounded-full shadow-2xl hover:shadow-red-primary/50 transform hover:scale-110 hover:-rotate-2 transition-all duration-300 animate-bounce-slow"
        >
          Codeissance#
        </a>
      </div>
    </section>

    <!-- About Section -->
    <section
      id="about"
      class="min-h-screen flex items-center justify-center py-20 px-4 fade-in-section"
    >
      <div class="max-w-6xl mx-auto">
        <div
          class="bg-dark-bg/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-red-primary/20 p-12 md:p-16 transform hover:scale-105 transition-all duration-500"
        >
          <div class="text-center space-y-8">
            <h2
              class="text-5xl md:text-6xl font-black text-red-primary mb-8 animate-fade-in-up"
            >
              About CodeStorm
            </h2>
            <p
              class="text-xl md:text-2xl leading-relaxed text-gray-300 animate-fade-in-up delay-200"
            >
              TSEC CodeStorm stands out as a unique platform to help develop
              coding and presentation skills. Their mantra:
              <span class="text-red-primary font-bold"
                >"Opportunities don't happen, you create them."</span
              >
              They organize workshops and hackathons that propel students toward
              a glorious tech career.
            </p>
            <div class="flex justify-center mt-8">
              <div
                class="w-24 h-1 bg-gradient-to-r from-red-primary to-white rounded-full animate-pulse"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Past Events -->
    <section
      id="past-events"
      class="min-h-screen flex flex-col justify-center py-20 fade-in-section"
    >
      <div class="w-full">
        <h2
          class="text-5xl md:text-6xl font-black text-white text-center mb-16 animate-fade-in-up px-4"
        >
          Past Events
        </h2>

        <!-- Full Width Carousel -->
        <div class="relative w-full overflow-hidden">
          <!-- Carousel Container -->
          <div
            id="carousel-container"
            class="flex transition-transform duration-500 ease-in-out"
          >
            <!-- Event Card 1 -->
            <div class="w-full flex-shrink-0 px-4 md:px-8">
              <div
                class="max-w-6xl mx-auto bg-dark-bg/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-red-primary/20 overflow-hidden transform hover:scale-105 transition-all duration-500"
              >
                <div class="grid md:grid-cols-2 gap-0">
                  <!-- Image Placeholder -->
                  <div
                    class="relative h-64 md:h-96 bg-gradient-to-br from-red-primary/20 to-gray-800"
                  >
                    <img
                      src=""
                      alt="Technovation 24 Event"
                      class="w-full h-full object-cover opacity-0"
                      style="
                        background: linear-gradient(
                          135deg,
                          #e10600 0%,
                          #333 100%
                        );
                      "
                    />
                    <div
                      class="absolute inset-0 flex items-center justify-center"
                    >
                      <div class="text-center">
                        <i
                          class="fas fa-image text-6xl text-red-primary/50 mb-4"
                        ></i>
                        <p class="text-white/70 text-lg">Event Image</p>
                      </div>
                    </div>
                  </div>

                  <!-- Content -->
                  <div class="p-8 md:p-12 flex flex-col justify-center">
                    <h3
                      class="text-4xl md:text-5xl font-bold text-red-primary mb-6"
                    >
                      Technovation 24
                    </h3>
                    <p
                      class="text-xl md:text-2xl text-gray-300 leading-relaxed mb-6"
                    >
                      A virtual project exhibition to showcase creative ideas
                      and sharpen presentation skills.
                    </p>
                    <div class="flex items-center space-x-4 text-red-primary">
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-calendar-alt text-xl"></i>
                        <span class="text-lg font-medium">2024</span>
                      </div>
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-users text-xl"></i>
                        <span class="text-lg font-medium">Virtual Event</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Event Card 2 -->
            <div class="w-full flex-shrink-0 px-4 md:px-8">
              <div
                class="max-w-6xl mx-auto bg-dark-bg/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-red-primary/20 overflow-hidden transform hover:scale-105 transition-all duration-500"
              >
                <div class="grid md:grid-cols-2 gap-0">
                  <!-- Image Placeholder -->
                  <div
                    class="relative h-64 md:h-96 bg-gradient-to-br from-red-primary/20 to-gray-800"
                  >
                    <img
                      src=""
                      alt="Codeissance 2024 Hackathon"
                      class="w-full h-full object-cover opacity-0"
                      style="
                        background: linear-gradient(
                          135deg,
                          #e10600 0%,
                          #333 100%
                        );
                      "
                    />
                    <div
                      class="absolute inset-0 flex items-center justify-center"
                    >
                      <div class="text-center">
                        <i
                          class="fas fa-image text-6xl text-red-primary/50 mb-4"
                        ></i>
                        <p class="text-white/70 text-lg">Event Image</p>
                      </div>
                    </div>
                  </div>

                  <!-- Content -->
                  <div class="p-8 md:p-12 flex flex-col justify-center">
                    <h3
                      class="text-4xl md:text-5xl font-bold text-red-primary mb-6"
                    >
                      Codeissance 2024 Hackathon
                    </h3>
                    <p
                      class="text-xl md:text-2xl text-gray-300 leading-relaxed mb-6"
                    >
                      A 24-hour hackathon featuring domains like AI/ML, web
                      development, and innovative tech solutions.
                    </p>
                    <div class="flex items-center space-x-4 text-red-primary">
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-clock text-xl"></i>
                        <span class="text-lg font-medium">24 Hours</span>
                      </div>
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-code text-xl"></i>
                        <span class="text-lg font-medium">Hackathon</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Event Card 3 -->
            <div class="w-full flex-shrink-0 px-4 md:px-8">
              <div
                class="max-w-6xl mx-auto bg-dark-bg/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-red-primary/20 overflow-hidden transform hover:scale-105 transition-all duration-500"
              >
                <div class="grid md:grid-cols-2 gap-0">
                  <!-- Image Placeholder -->
                  <div
                    class="relative h-64 md:h-96 bg-gradient-to-br from-red-primary/20 to-gray-800"
                  >
                    <img
                      src=""
                      alt="Treasure Hunt 2022"
                      class="w-full h-full object-cover opacity-0"
                      style="
                        background: linear-gradient(
                          135deg,
                          #e10600 0%,
                          #333 100%
                        );
                      "
                    />
                    <div
                      class="absolute inset-0 flex items-center justify-center"
                    >
                      <div class="text-center">
                        <i
                          class="fas fa-image text-6xl text-red-primary/50 mb-4"
                        ></i>
                        <p class="text-white/70 text-lg">Event Image</p>
                      </div>
                    </div>
                  </div>

                  <!-- Content -->
                  <div class="p-8 md:p-12 flex flex-col justify-center">
                    <h3
                      class="text-4xl md:text-5xl font-bold text-red-primary mb-6"
                    >
                      Treasure Hunt 2022
                    </h3>
                    <p
                      class="text-xl md:text-2xl text-gray-300 leading-relaxed mb-6"
                    >
                      A fun, team-based competition held offline for TSEC's
                      First-Year students to enhance problem-solving skills.
                    </p>
                    <div class="flex items-center space-x-4 text-red-primary">
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-calendar-alt text-xl"></i>
                        <span class="text-lg font-medium">2022</span>
                      </div>
                      <div class="flex items-center space-x-2">
                        <i class="fas fa-users text-xl"></i>
                        <span class="text-lg font-medium"
                          >Team Competition</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Navigation Arrows -->
          <button
            id="prev-btn"
            class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-red-primary/80 hover:bg-red-primary text-white p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-10"
          >
            <i class="fas fa-chevron-left text-xl"></i>
          </button>

          <button
            id="next-btn"
            class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-red-primary/80 hover:bg-red-primary text-white p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-10"
          >
            <i class="fas fa-chevron-right text-xl"></i>
          </button>

          <!-- Dots Indicator -->
          <div class="flex justify-center mt-8 space-x-4">
            <button
              class="carousel-dot w-4 h-4 rounded-full bg-red-primary transition-all duration-300"
              data-slide="0"
            ></button>
            <button
              class="carousel-dot w-4 h-4 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300"
              data-slide="1"
            ></button>
            <button
              class="carousel-dot w-4 h-4 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300"
              data-slide="2"
            ></button>
          </div>
        </div>
      </div>
    </section>

    <!-- Follow Us -->
    <section
      id="follow-us"
      class="min-h-screen flex items-center justify-center py-20 px-4 fade-in-section"
    >
      <div class="max-w-4xl mx-auto text-center">
        <div
          class="bg-dark-bg/80 backdrop-blur-lg rounded-xl shadow-2xl border-2 border-red-primary/30 p-8 md:p-12 mx-auto w-full max-w-2xl transition-all duration-500"
        >
          <h2
            class="text-5xl md:text-6xl font-black text-red-primary mb-12 animate-fade-in-up"
          >
            Follow Us
          </h2>

          <div class="flex justify-center space-x-12 md:space-x-16">
            <!-- Social links here -->
            <a
              href="https://www.instagram.com/tsec_codestorm/"
              class="group transform hover:scale-125 hover:-rotate-12 transition-all duration-300"
            >
              <i
                class="fab fa-instagram text-6xl md:text-7xl text-white group-hover:text-red-primary transition-colors duration-300"
              ></i>
              <div
                class="mt-4 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                Instagram
              </div>
            </a>
            <a
              href="https://www.facebook.com/tsec.codestorm/"
              class="group transform hover:scale-125 hover:-rotate-12 transition-all duration-300"
            >
              <i
                class="fab fa-facebook text-6xl md:text-7xl text-white group-hover:text-red-primary transition-colors duration-300"
              ></i>
              <div
                class="mt-4 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                Facebook
              </div>
            </a>
            <a
              href="https://www.linkedin.com/company/tsec-codestorm/"
              class="group transform hover:scale-125 hover:-rotate-12 transition-all duration-300"
            >
              <i
                class="fab fa-linkedin text-6xl md:text-7xl text-white group-hover:text-red-primary transition-colors duration-300"
              ></i>
              <div
                class="mt-4 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                LinkedIn
              </div>
            </a>
          </div>

          <div class="mt-12">
            <p class="text-gray-400 text-lg">
              Stay connected with our latest updates and events!
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer
      class="bg-black/90 backdrop-blur-lg border-t border-red-primary/20 py-8 mt-16"
    >
      <div class="max-w-6xl mx-auto px-4 text-center">
        <p class="text-lg text-gray-400">
          &copy; 2024 TSEC CodeStorm. All rights reserved.
        </p>
        <div class="mt-4 flex justify-center space-x-8 text-sm text-gray-500">
          <a
            href="#"
            class="hover:text-red-primary transition-colors duration-300"
            >Privacy Policy</a
          >
          <a
            href="#"
            class="hover:text-red-primary transition-colors duration-300"
            >Terms of Service</a
          >
          <a
            href="#"
            class="hover:text-red-primary transition-colors duration-300"
            >Contact</a
          >
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // Mobile menu toggle
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuButton.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
            // Close mobile menu if open
            mobileMenu.classList.add("hidden");
          }
        });
      });

      // Restore default cursor
      document.body.style.cursor = "default";

      // Handle typewriter animation completion
      setTimeout(() => {
        const titleElement = document.querySelector(".typewriter-text");
        if (titleElement) {
          titleElement.classList.add("animation-complete");
        }
      }, 6000); // 1s delay + 4s animation + 1s buffer

      setTimeout(() => {
        const taglineElement = document.querySelector(".typewriter-tagline");
        if (taglineElement) {
          taglineElement.classList.add("animation-complete");
        }
      }, 4000); // 3s animation + 1s buffer

      // Intersection Observer for fade-in animations
      const observerOptions = {
        threshold: 0.2,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);

      // Observe all fade-in sections
      document.querySelectorAll(".fade-in-section").forEach((section) => {
        observer.observe(section);
      });

      // Animated Background
      const canvas = document.getElementById("background-canvas");
      const ctx = canvas.getContext("2d");

      let mouseX = 0;
      let mouseY = 0;

      // Set canvas size
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      // Enhanced Particle system for full hero coverage with red and white particles
      const redParticles = [];
      const whiteParticles = [];
      const particleCount = 75; // Reduced per color since we have two sets
      const connectionDistance = 150;

      class RedParticle {
        constructor() {
          // Red particles mainly on the right side (red gradient area)
          this.x = Math.random() * (canvas.width * 0.7) + canvas.width * 0.3;
          this.y = Math.random() * canvas.height;
          this.vx = (Math.random() - 0.5) * 0.8;
          this.vy = (Math.random() - 0.5) * 0.8;
          this.size = Math.random() * 3 + 1;
          this.opacity = Math.random() * 0.8 + 0.2;
          this.pulseSpeed = Math.random() * 0.02 + 0.01;
          this.pulseOffset = Math.random() * Math.PI * 2;
        }

        update() {
          // Move particles
          this.x += this.vx;
          this.y += this.vy;

          // Enhanced mouse attraction with stronger force
          const dx = mouseX - this.x;
          const dy = mouseY - this.y;
          const distance = Math.sqrt(dx * dx + dy * dy);

          if (distance < 250) {
            const force = (250 - distance) / 250;
            this.vx += (dx / distance) * force * 0.05;
            this.vy += (dy / distance) * force * 0.05;
          }

          // Boundary wrapping
          if (this.x < -10) this.x = canvas.width + 10;
          if (this.x > canvas.width + 10) this.x = -10;
          if (this.y < -10) this.y = canvas.height + 10;
          if (this.y > canvas.height + 10) this.y = -10;

          // Damping and random movement
          this.vx *= 0.995;
          this.vy *= 0.995;
          this.vx += (Math.random() - 0.5) * 0.01;
          this.vy += (Math.random() - 0.5) * 0.01;

          // Pulsing opacity effect
          this.opacity =
            (Math.sin(Date.now() * this.pulseSpeed + this.pulseOffset) + 1) *
              0.4 +
            0.2;
        }

        draw() {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(225, 6, 0, ${this.opacity})`;

          // Enhanced glow effect
          ctx.shadowColor = "#e10600";
          ctx.shadowBlur = this.size * 3;
          ctx.fill();

          // Additional inner glow
          ctx.shadowBlur = this.size * 6;
          ctx.shadowColor = "rgba(255, 255, 255, 0.3)";
          ctx.fill();

          ctx.shadowBlur = 0;
        }
      }

      class WhiteParticle {
        constructor() {
          // White particles mainly on the left side (dark gradient area)
          this.x = Math.random() * (canvas.width * 0.7);
          this.y = Math.random() * canvas.height;
          this.vx = (Math.random() - 0.5) * 0.8;
          this.vy = (Math.random() - 0.5) * 0.8;
          this.size = Math.random() * 3 + 1;
          this.opacity = Math.random() * 0.8 + 0.2;
          this.pulseSpeed = Math.random() * 0.02 + 0.01;
          this.pulseOffset = Math.random() * Math.PI * 2;
        }

        update() {
          // Move particles
          this.x += this.vx;
          this.y += this.vy;

          // Enhanced mouse attraction with stronger force
          const dx = mouseX - this.x;
          const dy = mouseY - this.y;
          const distance = Math.sqrt(dx * dx + dy * dy);

          if (distance < 250) {
            const force = (250 - distance) / 250;
            this.vx += (dx / distance) * force * 0.05;
            this.vy += (dy / distance) * force * 0.05;
          }

          // Boundary wrapping
          if (this.x < -10) this.x = canvas.width + 10;
          if (this.x > canvas.width + 10) this.x = -10;
          if (this.y < -10) this.y = canvas.height + 10;
          if (this.y > canvas.height + 10) this.y = -10;

          // Damping and random movement
          this.vx *= 0.995;
          this.vy *= 0.995;
          this.vx += (Math.random() - 0.5) * 0.01;
          this.vy += (Math.random() - 0.5) * 0.01;

          // Pulsing opacity effect
          this.opacity =
            (Math.sin(Date.now() * this.pulseSpeed + this.pulseOffset) + 1) *
              0.4 +
            0.2;
        }

        draw() {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`; // White color

          // Enhanced glow effect
          ctx.shadowColor = "#ffffff";
          ctx.shadowBlur = this.size * 3;
          ctx.fill();

          // Additional inner glow with slight blue tint
          ctx.shadowBlur = this.size * 6;
          ctx.shadowColor = "rgba(200, 220, 255, 0.4)"; // Subtle cool white glow
          ctx.fill();

          ctx.shadowBlur = 0;
        }
      }

      // Create particles for both colors
      for (let i = 0; i < particleCount; i++) {
        redParticles.push(new RedParticle());
        whiteParticles.push(new WhiteParticle());
      }

      // Enhanced connection drawing with multiple line types for both colors
      function drawConnections() {
        // Red particle connections
        for (let i = 0; i < redParticles.length; i++) {
          for (let j = i + 1; j < redParticles.length; j++) {
            const dx = redParticles[i].x - redParticles[j].x;
            const dy = redParticles[i].y - redParticles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < connectionDistance) {
              const opacity =
                (connectionDistance - distance) / connectionDistance;

              // Main red connection lines
              ctx.beginPath();
              ctx.moveTo(redParticles[i].x, redParticles[i].y);
              ctx.lineTo(redParticles[j].x, redParticles[j].y);
              ctx.strokeStyle = `rgba(225, 6, 0, ${opacity * 0.4})`;
              ctx.lineWidth = opacity * 2;
              ctx.stroke();

              // Secondary red glow lines for closer particles
              if (distance < connectionDistance * 0.6) {
                ctx.beginPath();
                ctx.moveTo(redParticles[i].x, redParticles[i].y);
                ctx.lineTo(redParticles[j].x, redParticles[j].y);
                ctx.strokeStyle = `rgba(255, 255, 255, ${opacity * 0.2})`;
                ctx.lineWidth = opacity * 1;
                ctx.stroke();
              }
            }
          }
        }

        // White particle connections
        for (let i = 0; i < whiteParticles.length; i++) {
          for (let j = i + 1; j < whiteParticles.length; j++) {
            const dx = whiteParticles[i].x - whiteParticles[j].x;
            const dy = whiteParticles[i].y - whiteParticles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < connectionDistance) {
              const opacity =
                (connectionDistance - distance) / connectionDistance;

              // Main white connection lines
              ctx.beginPath();
              ctx.moveTo(whiteParticles[i].x, whiteParticles[i].y);
              ctx.lineTo(whiteParticles[j].x, whiteParticles[j].y);
              ctx.strokeStyle = `rgba(255, 255, 255, ${opacity * 0.4})`;
              ctx.lineWidth = opacity * 2;
              ctx.stroke();

              // Secondary white glow lines for closer particles
              if (distance < connectionDistance * 0.6) {
                ctx.beginPath();
                ctx.moveTo(whiteParticles[i].x, whiteParticles[i].y);
                ctx.lineTo(whiteParticles[j].x, whiteParticles[j].y);
                ctx.strokeStyle = `rgba(200, 220, 255, ${opacity * 0.3})`;
                ctx.lineWidth = opacity * 1;
                ctx.stroke();
              }
            }
          }
        }

        // Cross-color connections (red to white) for interesting interactions
        for (let i = 0; i < redParticles.length; i++) {
          for (let j = 0; j < whiteParticles.length; j++) {
            const dx = redParticles[i].x - whiteParticles[j].x;
            const dy = redParticles[i].y - whiteParticles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < connectionDistance * 0.7) {
              // Shorter range for cross-color
              const opacity =
                (connectionDistance * 0.7 - distance) /
                (connectionDistance * 0.7);

              // Pink connection lines between red and white
              ctx.beginPath();
              ctx.moveTo(redParticles[i].x, redParticles[i].y);
              ctx.lineTo(whiteParticles[j].x, whiteParticles[j].y);
              ctx.strokeStyle = `rgba(255, 182, 193, ${opacity * 0.3})`; // Light pink blend
              ctx.lineWidth = opacity * 1.5;
              ctx.stroke();
            }
          }
        }
      }

      // Enhanced animation loop with background effects for red and white particles
      function animate() {
        // Create trailing effect instead of full clear
        ctx.fillStyle = "rgba(0, 0, 0, 0.03)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Update and draw red particles
        redParticles.forEach((particle) => {
          particle.update();
          particle.draw();
        });

        // Update and draw white particles
        whiteParticles.forEach((particle) => {
          particle.update();
          particle.draw();
        });

        // Draw connections
        drawConnections();

        // Add ambient glow effects
        addAmbientEffects();

        requestAnimationFrame(animate);
      }

      // Add ambient background effects
      function addAmbientEffects() {
        // Subtle background pulse
        const time = Date.now() * 0.001;
        const pulseIntensity = (Math.sin(time) + 1) * 0.1;

        // Add gradient overlay for depth
        const gradient = ctx.createRadialGradient(
          canvas.width / 2,
          canvas.height / 2,
          0,
          canvas.width / 2,
          canvas.height / 2,
          canvas.width * 0.8
        );
        gradient.addColorStop(0, `rgba(225, 6, 0, ${pulseIntensity * 0.1})`);
        gradient.addColorStop(1, "transparent");

        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }

      // Track mouse movement for particles
      document.addEventListener("mousemove", (e) => {
        const rect = canvas.getBoundingClientRect();
        mouseX = e.clientX - rect.left;
        mouseY = e.clientY - rect.top;
      });

      // Removed custom cursor implementation - using normal cursor

      // Start animation
      animate();

      // Carousel Functionality
      let currentSlide = 0;
      const totalSlides = 3;
      const carouselContainer = document.getElementById("carousel-container");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const dots = document.querySelectorAll(".carousel-dot");

      function updateCarousel() {
        const translateX = -currentSlide * 100;
        carouselContainer.style.transform = `translateX(${translateX}%)`;

        // Update dots
        dots.forEach((dot, index) => {
          if (index === currentSlide) {
            dot.className =
              "carousel-dot w-4 h-4 rounded-full bg-red-primary transition-all duration-300";
          } else {
            dot.className =
              "carousel-dot w-4 h-4 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300";
          }
        });
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
      }

      function goToSlide(slideIndex) {
        currentSlide = slideIndex;
        updateCarousel();
      }

      // Event listeners
      nextBtn.addEventListener("click", nextSlide);
      prevBtn.addEventListener("click", prevSlide);

      dots.forEach((dot, index) => {
        dot.addEventListener("click", () => goToSlide(index));
      });

      // Auto-advance carousel every 5 seconds
      setInterval(nextSlide, 5000);

      // Touch/swipe support for mobile
      let startX = 0;
      let endX = 0;

      carouselContainer.addEventListener("touchstart", (e) => {
        startX = e.touches[0].clientX;
      });

      carouselContainer.addEventListener("touchend", (e) => {
        endX = e.changedTouches[0].clientX;
        const swipeDistance = startX - endX;

        if (Math.abs(swipeDistance) > 50) {
          if (swipeDistance > 0) {
            nextSlide();
          } else {
            prevSlide();
          }
        }
      });

      // Stacked Carousel Functionality (Newly Added)
      let currentStackedSlide = 0;
      const totalStackedSlides = 3; // Update this based on the number of stacked slides
      const stackedCarousel = document.getElementById("stacked-carousel");

      function updateStackedCarousel() {
        const translateX = -currentStackedSlide * 100;
        stackedCarousel.style.transform = `translateX(${translateX}%)`;
      }

      function nextStackedSlide() {
        currentStackedSlide = (currentStackedSlide + 1) % totalStackedSlides;
        updateStackedCarousel();
      }

      function prevStackedSlide() {
        currentStackedSlide =
          (currentStackedSlide - 1 + totalStackedSlides) % totalStackedSlides;
        updateStackedCarousel();
      }

      // Event listeners for stacked carousel
      document
        .getElementById("stacked-next")
        .addEventListener("click", nextStackedSlide);
      document
        .getElementById("stacked-prev")
        .addEventListener("click", prevStackedSlide);

      // Auto-advance stacked carousel every 5 seconds (separate from main carousel)
      setInterval(nextStackedSlide, 5000);
    </script>
  </body>
</html>
